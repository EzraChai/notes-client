import Link from 'next/link'
import {useState,useEffect } from 'react'
import Cookies from 'js-cookie';
import { useRouter } from 'next/router';

export default function Header(){
    const router = useRouter()
    const [check,setCheck] = useState()
    const [click, setClick] = useState(false)

    useEffect(() => {
        localStorage.getItem('theme') === 'dark'?setCheck(true):setCheck(false)
    },[])

    const toggleButton = () => {
        setCheck(!check)
        if(!document.documentElement.classList[2]){
            document.documentElement.classList.add('dark')
            localStorage.theme = 'dark'
          } else {
            document.documentElement.classList.remove('dark')
            localStorage.theme = 'light'
          }
    }

    const logOutEvent = () => {
        Cookies.remove('token')
        router.push('/')
    }

   
return (
<div>
    <div className="flex items-center justify-between flex-wrap bg-gray-900 p-6">
        <div className="">
        <Link href="/notes" passHref>
            <div className="flex items-center flex-no-shrink cursor-pointer text-white mr-6"> 
                <svg className="w-6 h-6" height="512pt" viewBox="0 0 512 512" width="512pt" xmlns="http://www.w3.org/2000/svg">
            <path d="M392 180v317c0 8.402-6.598 15-15 15H15c-8.402 0-15-6.598-15-15V180l30-30h337.398zm0 0" fill="#deecf1"/>
            <path d="M392 180v317c0 8.402-6.598 15-15 15H197V150h170.398zm0 0" fill="#c6e2e7"/>
            <path d="M392 105v75H0v-75c0-24.902 20.098-45 45-45h285.2l16.8-6c4.8 0 9.602 6.902 14.098 8.402C379.102 68.102 392 84.902 392 105zm0 0" fill="#ec5569"/>
            <path d="M392 105v75H197V60h133.2l16.8-6c4.8 0 9.602 6.902 14.098 8.402C379.102 68.102 392 84.902 392 105zm0 0" fill="#e63950"/>
            <path d="M239.898 436c0 8.402-6.597 15-15 15H77c-8.402 0-15-6.598-15-15s6.598-15 15-15h147.898c8.403 0 15 6.598 15 15zm0 0" fill="#a8d3d8"/>
            <path d="M239.898 436c0 8.402-6.597 15-15 15H197v-30h27.898c8.403 0 15 6.598 15 15zm0 0" fill="#8ebac5"/>
            <path d="M280.059 425.367c-1.059 1.059-2.543 2.121-4.032 2.758l-42.425 21.21c-5.516 2.974-12.516 1.911-17.18-2.757-4.668-4.664-5.73-11.664-2.758-17.18l21.211-42.425c.637-1.489 1.695-2.973 2.758-4.032h42.426zm0 0" fill="#ffcebf"/>
            <path d="M280.059 382.941v42.426c-1.059 1.059-2.543 2.121-4.032 2.758l-42.425 21.21c-5.516 2.97-12.516 1.911-17.18-2.757zm0 0" fill="#ffa78f"/>
            <path d="M507.547 197.883l-31.82 31.82H433.3v-42.426l31.816-31.82c5.942-5.941 15.274-5.941 21.215 0l21.215 21.211c5.937 5.941 5.937 15.273 0 21.215zm0 0" fill="#54469d"/>
            <path d="M507.547 197.883l-31.82 31.82H433.3l63.637-63.64 10.609 10.605c5.937 5.941 5.937 15.273 0 21.215zm0 0" fill="#392e6e"/>
            <path d="M237.629 382.941l195.664-195.664 42.426 42.426-195.664 195.664zm0 0" fill="#f27281"/>
            <path d="M258.844 404.152l195.664-195.664 21.21 21.215-195.663 195.664zm0 0" fill="#e63950"/>
            <path d="M361.098 62.402C356.602 60.902 351.8 60 347 60h-16.8C326 42.898 314.597 30 302 30s-24 12.898-28.2 30c-1.198 4.8-1.8 9.902-1.8 15 0 24.3 13.8 45 30 45 8.402 0 15 6.598 15 15s-6.598 15-15 15c-33 0-60-33.602-60-75 0-24.3-13.8-45-30-45-5.398 0-10.5 2.402-15 6.598-9 7.5-15 22.203-15 38.402s6 30.902 15 38.402c4.5 4.2 9.602 6.598 15 6.598 8.402 0 15 6.598 15 15s-6.598 15-15 15c-5.098 0-10.2-.902-15-2.402-25.8-8.399-45-37.797-45-72.598 0-24.3-13.8-45-30-45S92 50.7 92 75s13.8 45 30 45c8.402 0 15 6.598 15 15s-6.598 15-15 15c-33 0-60-33.602-60-75S89 0 122 0c18 0 33.898 10.2 45 25.8 7.8-11.1 18.3-19.5 30-23.398C201.8.902 206.902 0 212 0c18 0 33.898 10.2 45 25.8C267.8 9.903 284 0 302 0c29.7 0 54.3 27 59.098 62.402zm0 0" fill="#54469d"/>
            <g fill="#463b85">
                <path d="M227 135c0 8.402-6.598 15-15 15-5.098 0-10.2-.902-15-2.402v-34.2c4.5 4.2 9.602 6.602 15 6.602 8.402 0 15 6.598 15 15zm0 0M361.098 62.402C356.602 60.902 351.8 60 347 60h-16.8C326 42.898 314.597 30 302 30s-24 12.898-28.2 30c-1.198 4.8-1.8 9.902-1.8 15 0 24.3 13.8 45 30 45 8.402 0 15 6.598 15 15s-6.598 15-15 15c-33 0-60-33.602-60-75 0-24.3-13.8-45-30-45-5.398 0-10.5 2.402-15 6.598V2.402C201.8.902 206.902 0 212 0c18 0 33.898 10.2 45 25.8C267.8 9.903 284 0 302 0c29.7 0 54.3 27 59.098 62.402zm0 0"/>
            </g>
        </svg>  
            <span className="font-semibold text-2xl ml-1 tracking-tight">Notes</span>
                
            </div>
       
        </Link>
        </div>
        <div className="block md:hidden">
            <button onClick={()=>setClick(!click)}
                className={click?"flex items-center px-3 py-2 border rounded bg-white":"flex items-center px-3 py-2 border rounded text-teal-lighter border-teal-light hover:text-white hover:border-white"}>
                <svg className={click?"h-3 w-3":"h-3 w-3 fill-current text-white"} viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <title>Menu</title>
                    <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z" />
                </svg>
            </button>
        </div>
        <div  className={click?"w-full block flex-grow md:flex md:items-center md:w-auto":"w-full hidden md:block flex-grow md:flex md:items-center md:w-auto"}>
            <div className="text-sm md:flex-grow">
            </div>
            <div className="flex items-center justify-between">
                 <div>
                <div className="flex items-center mt-5 md:mt-0 md:justify-center w-full md:mr-10">
                    {check?<svg className="h-6 w-6 mr-2" height="512" viewBox="0 0 497 497" width="512" xmlns="http://www.w3.org/2000/svg"><g fill="#ffd900"><path d="M231.933 49.7c0 9.149 7.417 16.567 16.567 16.567 9.149 0 16.567-7.417 16.567-16.567V16.567C265.067 7.417 257.649 0 248.5 0c-9.15 0-16.567 7.417-16.567 16.567zM231.933 480.433c0 9.15 7.417 16.567 16.567 16.567 9.149 0 16.567-7.417 16.567-16.567V447.3c0-9.149-7.417-16.567-16.567-16.567s-16.567 7.417-16.567 16.567zM447.3 231.933c-9.149 0-16.567 7.417-16.567 16.567s7.417 16.567 16.567 16.567h33.133c9.15 0 16.567-7.417 16.567-16.567s-7.417-16.567-16.567-16.567zM16.567 231.933C7.417 231.933 0 239.35 0 248.5s7.417 16.567 16.567 16.567H49.7c9.149 0 16.567-7.417 16.567-16.567S58.85 231.933 49.7 231.933z"/><circle cx="248.5" cy="248.5" r="149.1"/><path d="M377.358 96.213c-6.47 6.47-6.47 16.959 0 23.429s16.959 6.47 23.429 0l23.429-23.429c6.47-6.47 6.47-16.959 0-23.429s-16.959-6.47-23.429 0zM72.784 400.787c-6.47 6.47-6.47 16.959 0 23.429s16.959 6.47 23.429 0l23.429-23.429c6.47-6.47 6.47-16.959 0-23.429s-16.959-6.47-23.429 0zM400.787 377.358c-6.47-6.47-16.959-6.47-23.429 0s-6.47 16.959 0 23.429l23.429 23.429c6.47 6.47 16.959 6.47 23.429 0s6.47-16.959 0-23.429zM96.213 72.784c-6.47-6.47-16.959-6.47-23.429 0s-6.47 16.959 0 23.429l23.429 23.429c6.47 6.47 16.959 6.47 23.429 0s6.47-16.959 0-23.429z"/></g><path d="M172.427 72.343a7.501 7.501 0 01-6.932-4.632l-6.34-15.306a7.5 7.5 0 1113.858-5.74l6.34 15.306a7.5 7.5 0 01-6.926 10.372zM330.922 454.983a7.502 7.502 0 01-6.932-4.632l-6.34-15.306a7.498 7.498 0 014.059-9.799 7.498 7.498 0 019.799 4.059l6.34 15.306a7.498 7.498 0 01-4.059 9.799 7.472 7.472 0 01-2.867.573zM64.843 179.944a7.468 7.468 0 01-2.867-.573l-15.306-6.34c-3.827-1.585-5.644-5.972-4.059-9.799s5.974-5.647 9.799-4.059l15.306 6.34a7.5 7.5 0 01-2.873 14.431zM447.483 338.44a7.468 7.468 0 01-2.867-.573l-15.306-6.34a7.497 7.497 0 01-4.058-9.799c1.586-3.826 5.975-5.646 9.799-4.059l15.306 6.34a7.499 7.499 0 014.059 9.799 7.505 7.505 0 01-6.933 4.632zM49.56 338.44a7.501 7.501 0 01-2.873-14.431l15.306-6.34a7.5 7.5 0 015.74 13.858l-15.306 6.34a7.487 7.487 0 01-2.867.573zM432.2 179.944a7.502 7.502 0 01-6.932-4.632 7.498 7.498 0 014.059-9.799l15.306-6.34a7.5 7.5 0 015.74 13.858l-15.306 6.34a7.472 7.472 0 01-2.867.573zM166.121 454.983a7.5 7.5 0 01-6.926-10.372l6.34-15.306a7.498 7.498 0 019.799-4.059 7.5 7.5 0 014.059 9.799l-6.34 15.306a7.503 7.503 0 01-6.932 4.632zM324.616 72.343a7.468 7.468 0 01-2.867-.573 7.499 7.499 0 01-4.059-9.799l6.34-15.306c1.586-3.826 5.976-5.646 9.799-4.059a7.499 7.499 0 014.059 9.799l-6.34 15.306a7.502 7.502 0 01-6.932 4.632z" fill="#ffa400"/><path d="M248.5 99.4c-3.87 0-7.705.148-11.5.437 76.972 5.871 137.6 70.187 137.6 148.663S313.972 391.292 237 397.163c3.795.289 7.63.438 11.5.438 82.346 0 149.1-66.754 149.1-149.1S330.846 99.4 248.5 99.4zM49.7 231.933h-23c9.149 0 16.567 7.417 16.567 16.567 0 9.149-7.417 16.567-16.567 16.567h23c9.149 0 16.567-7.417 16.567-16.567 0-9.149-7.418-16.567-16.567-16.567zM480.433 231.933h-23c9.15 0 16.567 7.417 16.567 16.567 0 9.149-7.417 16.567-16.567 16.567h23c9.15 0 16.567-7.417 16.567-16.567 0-9.149-7.417-16.567-16.567-16.567zM248.5 0A16.5 16.5 0 00237 4.657c3.119 3.013 5.067 7.231 5.067 11.91V49.7c0 4.679-1.948 8.897-5.067 11.909a16.5 16.5 0 0011.5 4.657c9.149 0 16.567-7.417 16.567-16.567V16.567C265.067 7.417 257.649 0 248.5 0zM248.5 430.733a16.5 16.5 0 00-11.5 4.657c3.119 3.013 5.067 7.23 5.067 11.909v33.133c0 4.679-1.948 8.897-5.067 11.909a16.5 16.5 0 0011.5 4.657c9.149 0 16.567-7.417 16.567-16.567V447.3c0-9.15-7.418-16.567-16.567-16.567zM424.216 72.784c-6.401-6.401-16.73-6.458-23.214-.194.07.068.145.125.214.194 6.47 6.47 6.47 16.959 0 23.429l-23.429 23.429c-.069.069-.145.126-.214.194 6.485 6.264 16.814 6.207 23.214-.194l23.429-23.429c6.47-6.47 6.47-16.959 0-23.429zM424.216 400.787l-23.429-23.429c-6.401-6.401-16.73-6.458-23.214-.194.07.067.145.125.214.194l23.429 23.429c6.47 6.47 6.47 16.959 0 23.429-.069.069-.145.126-.214.194 6.484 6.265 16.813 6.207 23.214-.194 6.47-6.47 6.47-16.959 0-23.429zM119.642 96.213L96.213 72.784c-6.393-6.393-16.703-6.457-23.189-.216.078.075.163.139.239.216l23.429 23.429c6.47 6.47 6.47 16.959 0 23.429-.077.077-.161.141-.239.216 6.486 6.241 16.797 6.176 23.189-.216 6.469-6.47 6.469-16.96 0-23.429zM119.642 377.358c-6.393-6.393-16.703-6.457-23.189-.216.078.075.162.139.239.216 6.47 6.47 6.47 16.959 0 23.429l-23.429 23.429c-.077.077-.161.141-.239.216 6.486 6.241 16.797 6.176 23.189-.216l23.429-23.429c6.469-6.47 6.469-16.959 0-23.429z" fill="#fb0"/></svg>:<svg className="h-6 w-6 mr-1"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M492.533 393.514c-45.591 71.117-125.26 118.288-215.959 118.484-140.513.305-255.888-113.354-257.587-253.857C17.389 125.938 115.61 16.341 243.014.027c2.723-.349 4.497 2.766 2.842 4.956-30.719 40.661-48.931 91.286-48.931 146.177 0 134.063 108.676 242.738 242.738 242.738 17.004 0 33.592-1.744 49.607-5.075 2.689-.559 4.745 2.379 3.263 4.691z" fill="#efda45"/><path d="M489.276 388.819c2.684-.558 4.74 2.373 3.261 4.682C446.851 464.773 366.946 512 276.009 512 134.044 512 18.972 396.917 18.972 254.963c0-56.808 18.424-109.306 49.635-151.86-7.086 23.245-10.961 47.888-11.116 73.419-.867 143.032 114.009 258.635 257.044 258.629 51.831-.002 100.076-15.342 140.436-41.74a240.991 240.991 0 0034.305-4.592z" fill="#edc148"/></svg>}
                <label htmlFor="toggleB" className="flex items-center cursor-pointer">
                    <div className="relative">
                    <input checked={check} onChange={()=>toggleButton()} type="checkbox" id="toggleB" className="sr-only"/>
                    <div className="block bg-gray-600 w-14 h-8 rounded-full"></div>
                    <div className="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"></div>
                    </div>
                </label>
                </div>
            </div>
            <div>
                <button onClick={logOutEvent}
                    className="inline-block text-sm px-4 py-2 leading-none border rounded text-white border-white hover:border-transparent hover:text-indigo-700 transition hover:bg-white mt-4 md:mt-0">Log Out</button>
            </div>
            </div>
           
        </div>
    </div>
</div>
);
}